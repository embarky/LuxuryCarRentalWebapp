<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      lang="en">

<h:head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Add or Edit Car</title>
</h:head>

<h:body>
    <h:form id="carForm">

        <h2>Add / Edit Car</h2>

        <!-- Car info panel -->
        <p:panelGrid columns="2" columnClasses="label,value" cellpadding="5">

            <h:outputLabel for="carType" value="Car Type:"/>
            <p:selectOneMenu id="carType" value="#{carBean.carTypeId}" required="true">
                <f:selectItems value="#{carBean.allCarTypes}" var="ct"
                               itemValue="#{ct.id}" itemLabel="#{ct.brand} #{ct.model}"/>
            </p:selectOneMenu>

            <h:outputLabel for="color" value="Color:"/>
            <h:inputText id="color" value="#{carBean.color}" required="true"/>

            <h:outputLabel for="dailyPrice" value="Daily Rental Price:"/>
            <h:inputText id="dailyPrice" value="#{carBean.dailyRentalPrice}" required="true"/>

            <h:outputLabel for="deposit" value="Deposit Amount:"/>
            <h:inputText id="deposit" value="#{carBean.depositAmount}" required="true"/>

            <h:outputLabel for="licensePlate" value="License Plate:"/>
            <h:inputText id="licensePlate" value="#{carBean.licensePlate}" required="true"/>

            <h:outputLabel for="vin" value="VIN:"/>
            <h:inputText id="vin" value="#{carBean.vin}" required="true"/>

            <h:outputLabel for="registrationDate" value="Registration Date:"/>
            <p:datePicker id="registrationDate" value="#{carBean.registrationDate}" pattern="yyyy-MM-dd"/>

            <h:outputLabel for="insuranceExpiry" value="Insurance Expiry:"/>
            <p:datePicker id="insuranceExpiry" value="#{carBean.insuranceExpiryDate}" pattern="yyyy-MM-dd"/>

            <h:outputLabel for="lastMaintenance" value="Last Maintenance:"/>
            <p:datePicker id="lastMaintenance" value="#{carBean.lastMaintenanceDate}" pattern="yyyy-MM-dd"/>

            <h:outputLabel for="imageUrl" value="Image URL:"/>
            <h:inputText id="imageUrl" value="#{carBean.imageUrl}" required="true"/>

            <h:outputLabel for="status" value="Car Status:"/>
            <p:selectOneMenu id="status" value="#{carBean.status}">
                <f:selectItem itemValue="AVAILABLE" itemLabel="Available"/>
                <f:selectItem itemValue="RENTED" itemLabel="Rented"/>
                <f:selectItem itemValue="MAINTENANCE" itemLabel="Maintenance"/>
            </p:selectOneMenu>

        </p:panelGrid>

        <br/>

        <!-- Submit button -->
        <p:commandButton value="Save Car"
                         action="#{carBean.saveCar}"
                         update="@form"
                         icon="pi pi-check"/>

        <p:messages id="messages" autoUpdate="true" showDetail="true"/>

    </h:form>
</h:body>
</html>