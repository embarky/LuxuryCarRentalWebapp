<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:ed="http://xmlns.jcp.org/jsf/composite/templates"
                template="/resources/templates/master_template.xhtml">

    <ui:define name="title">
        Available Cars
    </ui:define>

    <ui:define name="content">

        <section class="cars-section" id="cars">
            <h2 class="section-title">Available <span>Cars</span></h2>

            <h:form id="carListForm">

                <div class="cars-grid">
                    <!-- 遍历车辆列表 -->
                    <ui:repeat value="#{carsBean.carList}" var="car">

                        <!-- 使用复合组件显示车辆卡片 -->
                        <ed:car_card_component
                                carId="#{car.id}"
                                model="#{car.carType.brand} #{car.carType.model}"
                                engine="#{car.carType.engine}"
                                seats="#{car.carType.seats}"
                                price="#{car.dailyRentalPrice}">

                            <!-- 详情按钮，放在组件内部 -->
                            <h:panelGroup>
                                <h:commandLink value="View Details"
                                               icon="pi pi-search"
                                               action="#{carsBean.goToDetails(car.id)}"
                                               styleClass="car-details-btn"/>
                            </h:panelGroup>

                        </ed:car_card_component>

                    </ui:repeat>
                </div>

            </h:form>
        </section>

    </ui:define>
</ui:composition>