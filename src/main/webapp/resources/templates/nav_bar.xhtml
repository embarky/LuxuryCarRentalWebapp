<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="logo">Luxury Car Rental</div>

            <ul class="nav-links">
                <li><h:link value="Home" outcome="/index.xhtml"/></li>
                <li><a href="#features">Services</a></li>
                <li><h:link value="Car" outcome="/pages/cars.xhtml" /></li>

                <!-- If NOT logged in → show Login -->
                <li>
                    <h:panelGroup rendered="#{not customerSessionBean.loggedIn}">
                        <h:link value="Login" outcome="/pages/login.xhtml"/>
                    </h:panelGroup>
                </li>

                <!-- If logged in → show username with dropdown menu -->
                <li>
                    <h:form style="display:inline;">
                        <p:menuButton value="#{customerSessionBean.customer.firstName}"
                                      icon="pi pi-user"
                                      styleClass="btn btn-primary">

                            <!-- Orders page -->
                            <p:menuitem value="Orders"
                                        icon="pi pi-shopping-cart"
                                        outcome="/pages/orders.xhtml"/>

                            <!-- Logout action with PrimeFaces confirm -->
                            <p:menuitem value="Logout"
                                        icon="pi pi-sign-out"
                                        action="#{customerSessionBean.logout}"
                                        ajax="false"
                                        styleClass="logout-button">
                            </p:menuitem>

                        </p:menuButton>
                    </h:form>
                </li>

                <!-- Global confirm dialog -->
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade"/>

            </ul>
        </div>
    </nav>
</ui:composition>